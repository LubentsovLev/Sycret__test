{"version":3,"sources":["api/api.js","redux/news_reducer.js","redux/redux_store.js","components/news/Post.jsx","components/news/PopUp.jsx","assets/prelader/45.svg","helpers/loader.jsx","helpers/funks.js","components/news/News.jsx","App.jsx","reportWebVitals.js","index.js","components/news/news.module.scss"],"names":["newsApi","axios","baseURL","then","data","console","log","articles","SET_NEWS","SET_IS_FETCHING","initialState","News","isFetching","setIsFetching","type","addNews","dispath","a","response","newsReducer","state","action","reducers","combineReducers","news","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Post","props","inst","i","className","s","post","onClick","setPopupInfo","setPopActive","post__img","style","backgroundImage","urlToImage","post__bottom","post__title","source","name","post__desc","title","href","url","PopUp","popupInfo","popActive","PopUp__none","PopUp__container","x","src","alt","PopUp__img","PopUp__body","PopUp__body_cont","PopUp__title","PopUp__text","description","Loader","loader","functions","fn","ms","timeout","fnCall","apply","arguments","clearTimeout","setTimeout","dispatch","useDispatch","useSelector","React","useState","Reqested","setReqested","document","body","overflow","onChangeDeb","documentElement","scrollHeight","pageYOffset","useEffect","addEventListener","container","posts__inner","length","map","nothing","PopUp__inner","WrappedApp","withRouter","path","render","exact","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.69b9500b.chunk.js","sourcesContent":["import * as axios from 'axios';\r\nlet instance = axios.create({\r\n  baseURL: ``,\r\n});\r\n\r\nexport const newsApi = {\r\n  getNews() {\r\n    const key = 'e8cc23bcb83d4beba67f5864c366df0d';\r\n    return axios\r\n      .get(`https://newsapi.org/v2/top-headlines?country=ru&apiKey=${key}`)\r\n      .then((data) => {\r\n        console.log('api');\r\n        return data.data.articles;\r\n      });\r\n  },\r\n};\r\n","import { newsApi } from '../api/api';\r\n\r\nconst SET_NEWS = 'NEWS/SET_NEWS';\r\nconst SET_IS_FETCHING = 'NEWS/IS_FETCHING';\r\n\r\nlet initialState = {\r\n  News: [],\r\n  isFetching: false,\r\n};\r\n\r\nconst newsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_NEWS: {\r\n      return { ...state, News: [...state.News, ...action.News] };\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const setNews = (News) => {\r\n  return {\r\n    type: SET_NEWS,\r\n    News,\r\n  };\r\n};\r\nexport const setIsFetching = (isFetching) => {\r\n  return {\r\n    type: SET_IS_FETCHING,\r\n    isFetching,\r\n  };\r\n};\r\nexport const addNews = () => async (dispath) => {\r\n  dispath(setIsFetching(true));\r\n  let response = await newsApi.getNews();\r\n  dispath(setNews(response));\r\n  dispath(setIsFetching(false));\r\n};\r\n\r\nexport default newsReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport newsReducer from './news_reducer';\r\nlet reducers = combineReducers({\r\n  news: newsReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport s from './news.module.scss';\r\n\r\nconst Post = (props) => {\r\n  const handleClick = () => {\r\n    props.setPopupInfo(inst);\r\n    props.setPopActive(true);\r\n  };\r\n  const inst = props.i;\r\n  return (\r\n    <div className={s.post}>\r\n      <div\r\n        onClick={() => handleClick()}\r\n        className={s.post__img}\r\n        style={{\r\n          backgroundImage: `url(${inst.urlToImage || null})`,\r\n        }}\r\n      ></div>\r\n      <div className={s.post__bottom}>\r\n        <div className={s.post__title}>{inst.source.name}</div>\r\n        <div className={s.post__desc}>{inst.title}</div>\r\n        <a href={inst.url}>More info in the source</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './news.module.scss';\r\nconst PopUp = (props) => {\r\n  const inst = props.popupInfo;\r\n  return (\r\n    <div className={props.popActive ? s.PopUp : s.PopUp__none}>\r\n      <div className={s.PopUp__container}>\r\n        <div\r\n          onClick={() => {\r\n            props.setPopActive(false);\r\n          }}\r\n          className={s.x}\r\n        >\r\n          <img\r\n            src=\"https://натяжные-потолки.на-все-руки.москва/template_files/close-popup.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div\r\n          // style={{\r\n          //   backgroundImage: `url(${inst.urlToImage || null})`,\r\n          // }}\r\n          className={s.PopUp__img}\r\n        >\r\n          <img src={inst.urlToImage} alt=\"\" />\r\n        </div>\r\n        <div className={s.PopUp__body}>\r\n          <div className={s.PopUp__body_cont}>\r\n            <div className={s.post__title}>{inst.source.name}</div>\r\n            <div className={s.PopUp__title}>{inst.title}</div>\r\n            <div className={s.PopUp__text}>{inst.description}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopUp;\r\n","export default __webpack_public_path__ + \"static/media/45.6cf37826.svg\";","import React from 'react';\nimport loader from '../assets/prelader/45.svg';\nfunction Loader(props) {\n  return (\n    <div className=\"loader\">\n      <img src={loader} alt=\"\" />\n    </div>\n  );\n}\nexport default Loader;\n","export const functions = {\r\n  debounceFunc: (fn, ms) => {\r\n    let timeout;\r\n    return function () {\r\n      const fnCall = () => fn.apply(this, arguments);\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(fnCall, ms);\r\n    };\r\n  },\r\n};\r\n","import React from 'react';\r\nimport Post from './Post';\r\nimport s from './news.module.scss';\r\nimport PopUp from './PopUp';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addNews } from '../../redux/news_reducer';\r\nimport Loader from '../../helpers/loader';\r\nimport { functions } from '../../helpers/funks';\r\nconst News = () => {\r\n  const dispatch = useDispatch();\r\n  const news = useSelector((state) => state.news.News);\r\n  const isFetching = useSelector((state) => state.news.isFetching);\r\n  const [Reqested, setReqested] = React.useState(false);\r\n  const [popupInfo, setPopupInfo] = React.useState({});\r\n  const [popActive, setPopActive] = React.useState(false);\r\n  const checkOffset = function () {\r\n    console.log('gg');\r\n    functions.debounceFunc();\r\n    if (document.documentElement.scrollHeight - window.pageYOffset <= 7000) {\r\n      if (!Reqested) {\r\n        dispatch(addNews());\r\n        setReqested(true);\r\n      }\r\n    }\r\n  };\r\n  if (popActive) {\r\n    document.body.style.overflow = 'hidden';\r\n  } else {\r\n    document.body.style.overflow = 'visible ';\r\n  }\r\n  const onChangeDeb = functions.debounceFunc(checkOffset, 50);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(addNews());\r\n    window.addEventListener('scroll', onChangeDeb);\r\n    // window.addEventListener('mousemove', onChangeDeb);\r\n    // window.addEventListener('click  ', onChangeDeb);\r\n  }, []);\r\n  React.useEffect(() => {\r\n    // setReqested(false);\r\n  }, [isFetching, news]);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.posts__inner}>\r\n        {news.length !== 0 ? (\r\n          news.map((i) => {\r\n            return (\r\n              <Post\r\n                setPopActive={setPopActive}\r\n                setPopupInfo={setPopupInfo}\r\n                key={i.url}\r\n                i={i}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <div className={s.nothing}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className={s.loader}>\r\n        {isFetching && news.length !== 0 ? <Loader /> : null}\r\n      </div>\r\n      <div className={s.PopUp__inner}>\r\n        {popActive ? (\r\n          <PopUp\r\n            popupInfo={popupInfo}\r\n            popActive={popActive}\r\n            setPopActive={setPopActive}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","import './App.scss';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport {\n  HashRouter,\n  BrowserRouter,\n  Route,\n  Switch,\n  withRouter,\n} from 'react-router-dom';\nimport store from './redux/redux_store';\nimport News from './components/news/News';\n\nfunction App() {\n  return (\n    <div className=\"\">\n      <Switch>\n        <Route path=\"/news\" render={() => <News />} />\n        <Route path=\"/\" render={() => <News />} />\n        <Route exact path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n      </Switch>\n    </div>\n  );\n}\nlet WrappedApp = withRouter(App);\nconst MainApp = (props) => {\n  return (\n    // <BrowserRouter basename={process.env.PUBLIC_URL}></BrowserRouter>\n    // <HashRouter></HashRouter>\n    <BrowserRouter>\n      <Provider store={store}>\n        <WrappedApp />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default MainApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport MainApp from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"news_container__1NHUf\",\"post\":\"news_post__1n7ln\",\"posts__inner\":\"news_posts__inner__9T8gy\",\"post__bottom\":\"news_post__bottom__2FiyO\",\"post__img\":\"news_post__img__3Oe8o\",\"post__title\":\"news_post__title__18yUD\",\"post__desc\":\"news_post__desc__2SnsP\",\"loader\":\"news_loader__3iO_H\",\"PopUp\":\"news_PopUp__2BLZX\",\"PopUp__none\":\"news_PopUp__none__qTERY\",\"PopUp__container\":\"news_PopUp__container__29pKb\",\"PopUp__img\":\"news_PopUp__img__1t_ix\",\"PopUp__body\":\"news_PopUp__body__2Wa1L\",\"PopUp__body_cont\":\"news_PopUp__body_cont__1MMWm\",\"PopUp__title\":\"news_PopUp__title__1Vwmp\",\"PopUp__text\":\"news_PopUp__text__1Kv47\",\"x\":\"news_x__150xE\"};"],"sourceRoot":""}