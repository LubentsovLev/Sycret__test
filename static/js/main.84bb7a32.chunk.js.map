{"version":3,"sources":["api/api.js","redux/news_reducer.js","redux/redux_store.js","components/news/Post.jsx","components/news/PopUp.jsx","assets/prelader/45.svg","helpers/loader.jsx","helpers/funks.js","components/news/News.jsx","App.jsx","reportWebVitals.js","index.js","components/news/news.module.scss"],"names":["newsApi","axios","baseURL","then","data","SET_NEWS","SET_IS_FETCHING","SET_IS_REQ","initialState","News","isFetching","req","setIsFetching","type","setIsReq","addNews","dispath","a","response","newsReducer","state","action","reducers","combineReducers","news","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Post","props","inst","i","className","s","post","onClick","setPopupInfo","setPopActive","post__img","style","backgroundImage","url","post__bottom","post__title","date","post__desc","title","href","PopUp","popupInfo","popActive","PopUp__none","PopUp__container","x","src","alt","PopUp__img","PopUp__body","PopUp__body_cont","PopUp__title","PopUp__text","explanation","Loader","loader","functions","fn","ms","timeout","fnCall","apply","arguments","clearTimeout","setTimeout","dispatch","useDispatch","useSelector","React","useState","document","body","overflow","onChangeDeb","documentElement","scrollHeight","pageYOffset","useEffect","addEventListener","container","posts__inner","length","map","nothing","PopUp__inner","WrappedApp","withRouter","path","render","exact","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.84bb7a32.chunk.js","sourcesContent":["import * as axios from 'axios';\r\nlet instance = axios.create({\r\n  baseURL: ``,\r\n});\r\nlet key = 'f4yQzYnbxNMKohKTB2Jv7Tr4zqHZ6YPrL3gC9Kb4';\r\nexport const newsApi = {\r\n  getNews() {\r\n    const key = 'e8cc23bcb83d4beba67f5864c366df0d';\r\n    return (\r\n      axios\r\n        // .get(`https://newsapi.org/v2/top-headlines?country=ru&apiKey=${key}`)\r\n        .get(\r\n          `https://api.nasa.gov/planetary/apod?api_key=f4yQzYnbxNMKohKTB2Jv7Tr4zqHZ6YPrL3gC9Kb4&start_date=2020-10-10&end_date=2020-12-10`\r\n        )\r\n        .then((data) => {\r\n          return data.data;\r\n        })\r\n    );\r\n  },\r\n};\r\n","import { newsApi } from '../api/api';\r\n\r\nconst SET_NEWS = 'NEWS/SET_NEWS';\r\nconst SET_IS_FETCHING = 'NEWS/IS_FETCHING';\r\nconst SET_IS_REQ = 'NEWS/SET_IS_REQ';\r\n\r\nlet initialState = {\r\n  News: [],\r\n  isFetching: false,\r\n  req: false,\r\n};\r\n\r\nconst newsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_NEWS: {\r\n      return { ...state, News: [...state.News, ...action.News] };\r\n    }\r\n    case SET_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case SET_IS_REQ: {\r\n      return { ...state, req: action.req };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const setNews = (News) => {\r\n  return {\r\n    type: SET_NEWS,\r\n    News,\r\n  };\r\n};\r\nexport const setIsFetching = (isFetching) => {\r\n  return {\r\n    type: SET_IS_FETCHING,\r\n    isFetching,\r\n  };\r\n};\r\nexport const setIsReq = (req) => {\r\n  return {\r\n    type: SET_IS_REQ,\r\n    req,\r\n  };\r\n};\r\nexport const addNews = () => async (dispath) => {\r\n  dispath(setIsFetching(true));\r\n  dispath(setIsReq(true));\r\n  let response = await newsApi.getNews();\r\n  dispath(setIsReq(false));\r\n  dispath(setNews(response));\r\n  dispath(setIsFetching(false));\r\n};\r\n\r\nexport default newsReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport newsReducer from './news_reducer';\r\nlet reducers = combineReducers({\r\n  news: newsReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport s from './news.module.scss';\r\n\r\nconst Post = (props) => {\r\n  const inst = props.i;\r\n  const handleClick = () => {\r\n    props.setPopupInfo(inst);\r\n    props.setPopActive(true);\r\n  };\r\n\r\n  return (\r\n    <div className={s.post}>\r\n      <div\r\n        onClick={() => handleClick()}\r\n        className={s.post__img}\r\n        style={{\r\n          backgroundImage: `url(${inst.url || null})`,\r\n        }}\r\n      ></div>\r\n      <div className={s.post__bottom}>\r\n        <div className={s.post__title}>{inst.date}</div>\r\n        <div className={s.post__desc}>{inst.title}</div>\r\n        <a href={inst.url}>Full image</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './news.module.scss';\r\nconst PopUp = (props) => {\r\n  const inst = props.popupInfo;\r\n  return (\r\n    <div className={props.popActive ? s.PopUp : s.PopUp__none}>\r\n      <div className={s.PopUp__container}>\r\n        <div\r\n          onClick={() => {\r\n            props.setPopActive(false);\r\n          }}\r\n          className={s.x}\r\n        >\r\n          <img\r\n            src=\"https://натяжные-потолки.на-все-руки.москва/template_files/close-popup.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            backgroundImage: `url(${inst.url || null})`,\r\n          }}\r\n          className={s.PopUp__img}\r\n        >\r\n          {/* <img src={inst.urlToImage} alt=\"\" /> */}\r\n        </div>\r\n        <div className={s.PopUp__body}>\r\n          <div className={s.PopUp__body_cont}>\r\n            <div className={s.post__title}>{inst.date}</div>\r\n            <div className={s.PopUp__title}>{inst.title}</div>\r\n            <div className={s.PopUp__text}>{inst.explanation}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopUp;\r\n","export default __webpack_public_path__ + \"static/media/45.6cf37826.svg\";","import React from 'react';\nimport loader from '../assets/prelader/45.svg';\nfunction Loader(props) {\n  return (\n    <div className=\"loader\">\n      <img src={loader} alt=\"\" />\n    </div>\n  );\n}\nexport default Loader;\n","export const functions = {\r\n  debounceFunc: (fn, ms) => {\r\n    let timeout;\r\n    return function () {\r\n      const fnCall = () => fn.apply(this, arguments);\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(fnCall, ms);\r\n    };\r\n  },\r\n};\r\n","import React from 'react';\r\nimport Post from './Post';\r\nimport s from './news.module.scss';\r\nimport PopUp from './PopUp';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addNews } from '../../redux/news_reducer';\r\nimport Loader from '../../helpers/loader';\r\nimport { functions } from '../../helpers/funks';\r\nconst News = () => {\r\n  const dispatch = useDispatch();\r\n  const news = useSelector((state) => state.news.News);\r\n  const isFetching = useSelector((state) => state.news.isFetching);\r\n  const req = useSelector((state) => state.news.req);\r\n  const [Reqested, setReqested] = React.useState(false);\r\n  const [popupInfo, setPopupInfo] = React.useState({});\r\n  const [popActive, setPopActive] = React.useState(false);\r\n  const checkOffset = function () {\r\n    functions.debounceFunc();\r\n    if (document.documentElement.scrollHeight - window.pageYOffset <= 10000) {\r\n      if (!req) {\r\n        dispatch(addNews());\r\n      }\r\n    }\r\n  };\r\n  if (popActive) {\r\n    document.body.style.overflow = 'hidden';\r\n  } else {\r\n    document.body.style.overflow = 'visible ';\r\n  }\r\n  const onChangeDeb = functions.debounceFunc(checkOffset, 50);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(addNews());\r\n    window.addEventListener('scroll', onChangeDeb);\r\n  }, []);\r\n  React.useEffect(() => {}, [isFetching, news, req]);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.posts__inner}>\r\n        {news.length !== 0 ? (\r\n          news.map((i) => {\r\n            return (\r\n              <Post\r\n                setPopActive={setPopActive}\r\n                setPopupInfo={setPopupInfo}\r\n                key={i.url}\r\n                i={i}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <div className={s.nothing}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className={s.loader}>\r\n        {isFetching && news.length !== 0 ? <Loader /> : null}\r\n      </div>\r\n      <div className={s.PopUp__inner}>\r\n        {popActive ? (\r\n          <PopUp\r\n            popupInfo={popupInfo}\r\n            popActive={popActive}\r\n            setPopActive={setPopActive}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default News;\r\n","import './App.scss';\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport {\n  HashRouter,\n  BrowserRouter,\n  Route,\n  Switch,\n  withRouter,\n} from 'react-router-dom';\nimport store from './redux/redux_store';\nimport News from './components/news/News';\n\nfunction App() {\n  return (\n    <div className=\"\">\n      <Switch>\n        <Route path=\"/news\" render={() => <News />} />\n        <Route path=\"/\" render={() => <News />} />\n        <Route exact path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n      </Switch>\n    </div>\n  );\n}\nlet WrappedApp = withRouter(App);\nconst MainApp = (props) => {\n  return (\n    // <BrowserRouter basename={process.env.PUBLIC_URL}></BrowserRouter>\n    // <HashRouter></HashRouter>\n    <HashRouter>\n      <Provider store={store}>\n        <WrappedApp />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default MainApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport MainApp from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"news_container__1NHUf\",\"post\":\"news_post__1n7ln\",\"posts__inner\":\"news_posts__inner__9T8gy\",\"post__bottom\":\"news_post__bottom__2FiyO\",\"post__img\":\"news_post__img__3Oe8o\",\"post__title\":\"news_post__title__18yUD\",\"post__desc\":\"news_post__desc__2SnsP\",\"loader\":\"news_loader__3iO_H\",\"PopUp\":\"news_PopUp__2BLZX\",\"PopUp__none\":\"news_PopUp__none__qTERY\",\"PopUp__container\":\"news_PopUp__container__29pKb\",\"PopUp__img\":\"news_PopUp__img__1t_ix\",\"PopUp__body\":\"news_PopUp__body__2Wa1L\",\"PopUp__body_cont\":\"news_PopUp__body_cont__1MMWm\",\"PopUp__title\":\"news_PopUp__title__1Vwmp\",\"PopUp__text\":\"news_PopUp__text__1Kv47\",\"x\":\"news_x__150xE\"};"],"sourceRoot":""}