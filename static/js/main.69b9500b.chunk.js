(this["webpackJsonpreact-redux"]=this["webpackJsonpreact-redux"]||[]).push([[0],{174:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),o=n.n(s),i=n(28),a=n.n(i),r=(n(75),n(76),n(15)),_=n(4),p=n(69),l=n(12),u=n(65),j=n(176),d=n(40),b=n.n(d),O=n(66),f=n(45),h=n(22),x=n(41),m=(x.create({baseURL:""}),function(){return x.get("https://newsapi.org/v2/top-headlines?country=ru&apiKey=".concat("e8cc23bcb83d4beba67f5864c366df0d")).then((function(e){return console.log("api"),e.data.articles}))}),v="NEWS/SET_NEWS",w="NEWS/IS_FETCHING",g={News:[],isFetching:!1},N=function(e){return{type:w,isFetching:e}},P=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.next=3,m();case 3:n=e.sent,t({type:v,News:n}),t(N(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(h.a)(Object(h.a)({},e),{},{News:[].concat(Object(f.a)(e.News),Object(f.a)(t.News))});case w:return Object(h.a)(Object(h.a)({},e),{},{isFetching:t.isFetching});default:return e}},y=Object(l.c)({news:U,form:j.a}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,S=Object(l.e)(y,E(Object(l.a)(u.a)));window.__store__=S;var T=S,F=n(32),I=n(3),C=n.n(I),L=function(e){var t=e.i;return Object(c.jsxs)("div",{className:C.a.post,children:[Object(c.jsx)("div",{onClick:function(){return e.setPopupInfo(t),void e.setPopActive(!0)},className:C.a.post__img,style:{backgroundImage:"url(".concat(t.urlToImage||null,")")}}),Object(c.jsxs)("div",{className:C.a.post__bottom,children:[Object(c.jsx)("div",{className:C.a.post__title,children:t.source.name}),Object(c.jsx)("div",{className:C.a.post__desc,children:t.title}),Object(c.jsx)("a",{href:t.url,children:"More info in the source"})]})]})},k=function(e){var t=e.popupInfo;return Object(c.jsx)("div",{className:e.popActive?C.a.PopUp:C.a.PopUp__none,children:Object(c.jsxs)("div",{className:C.a.PopUp__container,children:[Object(c.jsx)("div",{onClick:function(){e.setPopActive(!1)},className:C.a.x,children:Object(c.jsx)("img",{src:"https://\u043d\u0430\u0442\u044f\u0436\u043d\u044b\u0435-\u043f\u043e\u0442\u043e\u043b\u043a\u0438.\u043d\u0430-\u0432\u0441\u0435-\u0440\u0443\u043a\u0438.\u043c\u043e\u0441\u043a\u0432\u0430/template_files/close-popup.png",alt:""})}),Object(c.jsx)("div",{className:C.a.PopUp__img,children:Object(c.jsx)("img",{src:t.urlToImage,alt:""})}),Object(c.jsx)("div",{className:C.a.PopUp__body,children:Object(c.jsxs)("div",{className:C.a.PopUp__body_cont,children:[Object(c.jsx)("div",{className:C.a.post__title,children:t.source.name}),Object(c.jsx)("div",{className:C.a.PopUp__title,children:t.title}),Object(c.jsx)("div",{className:C.a.PopUp__text,children:t.description})]})})]})})},A=n.p+"static/media/45.6cf37826.svg";var D=function(e){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("img",{src:A,alt:""})})},W=function(e,t){var n;return function(){var c=arguments,s=this,o=function(){return e.apply(s,c)};clearTimeout(n),n=setTimeout(o,t)}},H=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.news.News})),n=Object(r.c)((function(e){return e.news.isFetching})),s=o.a.useState(!1),i=Object(F.a)(s,2),a=i[0],_=i[1],p=o.a.useState({}),l=Object(F.a)(p,2),u=l[0],j=l[1],d=o.a.useState(!1),b=Object(F.a)(d,2),O=b[0],f=b[1];document.body.style.overflow=O?"hidden":"visible ";var h=W((function(){console.log("gg"),W(),document.documentElement.scrollHeight-window.pageYOffset<=7e3&&(a||(e(P()),_(!0)))}),50);return o.a.useEffect((function(){e(P()),window.addEventListener("scroll",h)}),[]),o.a.useEffect((function(){}),[n,t]),Object(c.jsxs)("div",{className:C.a.container,children:[Object(c.jsx)("div",{className:C.a.posts__inner,children:0!==t.length?t.map((function(e){return Object(c.jsx)(L,{setPopActive:f,setPopupInfo:j,i:e},e.url)})):Object(c.jsx)("div",{className:C.a.nothing,children:Object(c.jsx)(D,{})})}),Object(c.jsx)("div",{className:C.a.loader,children:n&&0!==t.length?Object(c.jsx)(D,{}):null}),Object(c.jsx)("div",{className:C.a.PopUp__inner,children:O?Object(c.jsx)(k,{popupInfo:u,popActive:O,setPopActive:f}):null})]})};var M=Object(_.f)((function(){return Object(c.jsx)("div",{className:"",children:Object(c.jsxs)(_.c,{children:[Object(c.jsx)(_.a,{path:"/news",render:function(){return Object(c.jsx)(H,{})}}),Object(c.jsx)(_.a,{path:"/",render:function(){return Object(c.jsx)(H,{})}}),Object(c.jsx)(_.a,{exact:!0,path:"*",render:function(){return Object(c.jsx)("div",{children:"404 NOT FOUND"})}})]})})})),B=function(e){return Object(c.jsx)(p.a,{children:Object(c.jsx)(r.a,{store:T,children:Object(c.jsx)(M,{})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),o(e),i(e)}))};a.a.render(Object(c.jsx)(B,{}),document.getElementById("root")),K()},3:function(e,t,n){e.exports={container:"news_container__1NHUf",post:"news_post__1n7ln",posts__inner:"news_posts__inner__9T8gy",post__bottom:"news_post__bottom__2FiyO",post__img:"news_post__img__3Oe8o",post__title:"news_post__title__18yUD",post__desc:"news_post__desc__2SnsP",loader:"news_loader__3iO_H",PopUp:"news_PopUp__2BLZX",PopUp__none:"news_PopUp__none__qTERY",PopUp__container:"news_PopUp__container__29pKb",PopUp__img:"news_PopUp__img__1t_ix",PopUp__body:"news_PopUp__body__2Wa1L",PopUp__body_cont:"news_PopUp__body_cont__1MMWm",PopUp__title:"news_PopUp__title__1Vwmp",PopUp__text:"news_PopUp__text__1Kv47",x:"news_x__150xE"}},75:function(e,t,n){},76:function(e,t,n){}},[[174,1,2]]]);
//# sourceMappingURL=main.69b9500b.chunk.js.map